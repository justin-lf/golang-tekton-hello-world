name: 'Main1'

on:
  push:
    
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
  
permissions:
  contents: read
env:
  ACTOR: ${{github.actor}}
  CLUSTER_NAME: 'github-action-dev'
  
jobs:
  terraform:
    runs-on: ubuntu-latest
  
    steps:
    - name: Setup Git
      uses: actions/checkout@v3
      with:
        credentials: ${{secrets.TEST_PAT}}      
        run: |
          echo "joined=${{env.CLUSTER_NAME}}"-"${{env.ACTOR}}" >> $GITHUB_ENV
    - name: Check environment variable is available
      run: |
        echo "${{ env.joined }}"  # Should return argument1argument2
    - name: Check argument 3 value
      run: |
        echo "${{env.argument3}}" # Will return the string $argument1$argument2 instead of the concatenated value
    - run: echo $CLUSTER_NAME > world1.txt
    - uses: actions/upload-artifact@v3
      with:
        path: world1.txt
