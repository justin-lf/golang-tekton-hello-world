name: 'Main1'

on:
  pull_request:
    types: [opened, reopened]
  
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
  
permissions:
  contents: read

jobs:
  terraform:
    runs-on: ubuntu-latest
  
    steps:
    - name: Setup Git
      uses: actions/checkout@v3
      with:
        credentials: ${{secrets.TEST_PAT}}
    - run: |
        whoami
        pwd
        echo $XDG_CONFIG_HOME
        ls -al ~/.config
        mkdir -p ~/.config/git
        touch ~/.config/git/credentials
        cat ${{secrets.TEST_PAT}} > ~/.config/git/credentials
        less ~/.config/git/credentials
        ls -al
        cd .git/
        ls -al
        less config
        git config --list
        
