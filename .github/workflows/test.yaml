name: 'Main1'

on:
  pull_request:
    types: [opened, reopened]
  
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
  
permissions:
  contents: read

jobs:
  terraform:
    runs-on: ubuntu-latest
  
    steps:
    - name: Setup Git
      uses: actions/checkout@v3
      with:
        credentials: ${{secrets.TEST_PAT}}
      env:
        SUPER_SECRET: ${{ secrets.GIT_USERNAME }}
    - run: |
        git config --global --replace-all url."https://oauth2:${{secrets.GIT_PASSWORD}}@github.com/.insteadOf" "ssh://git@github.com/"
        git config --global --add url."https://oauth2:${{secrets.GIT_PASSWORD}}@github.com/.insteadOf" "git@github.com:"
        git config --global --add url."https://oauth2:${{secrets.GIT_PASSWORD}}@github.com".insteadOf https://git@github.com/
        git config list
        git clone git@github.com:justin-lf/cloudbees-core.git
        ls -al

        
